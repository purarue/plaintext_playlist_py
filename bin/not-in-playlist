#!/usr/bin/env python
# /// script
# requires-python = ">=3.14"
# dependencies = [
#     "click>=8.3.1",
#     "plaintext-playlist-py>=0.1.0",
# ]
# ///

import click
from plaintext_playlist_py import Collection, musicdir, iterate_playlists


@click.command()
def main() -> None:
    collections = [c.root for c in Collection.iter_ext_collection(musicdir())]
    in_playlists = [p.in_musicdir().parent for p in iterate_playlists()]
    for path in sorted(set(collections) - set(in_playlists)):
        click.echo(path)


if __name__ == "__main__":
    main()
